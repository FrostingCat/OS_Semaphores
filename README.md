# Зайцева Юлия Александровна, БПИ213

# Домашнее задание №2
Применение семафоров для организации взаимодействия параллельных процессов

## Вариант задания 9: 
Задача о супермаркете. В супермаркете работают два кассира, покупатели заходят в супермаркет, делают покупки и становятся в очередь к случайному кассиру. Пока очередь пуста, кассир «спит», как только появляется покупатель, кассир «просыпается». Покупатель «спит» в очереди, пока не подойдет к кассиру. Создать приложение, моделирующее рабочий день супермаркета. Каждого кассира и каждого покупателя реализовать в виде отдельных процессов

## Реализация программы на 4

a. Были созданы несколько процессов: для первого продавца, второго и всех посетителей. Все потетители приходят к продавцам в разное время и встают в очередь. Если она пуста, то они случайным образом выбирают продавца и идут делать покупки. Причем им требуется время на то, чтобы уйти от продавца + продавец будет обслуживать некоторое время. Когда они заканчивают покупки, освобождают очередь. Когда продавец берет заканчивает с покупателем, он сообщает ему об этом. Когда заканчивается рабочий день, один продавец сообщает об этом другому.

b. Было создано 5 семафор стандарта UNIX SYSTEM V: для первого продавца, второго, очереди посетителей, а также для связи продавцов с покупателями. Когда посетитель подходил к продавцу, значение его семафора(1 или 2) увеличивалось. При обслуживании клиента значение семафора (первого или второго) уменьшалось.  Аналогично и с вставанием в очередь. Когда завершалось обслуживание, значение 4 или 5 семафора увеличивалось, и покупатель снова становился активным. Также, для корректной работы программы необходимо хранить кол-во клиентов, которых осталось обслужить. Для этого был создан объект разделяемой памяти.

c. Предусмотрено корректное завершение по прерыванию с клавиатуры по соответствующему сигналу: удаляются семафоры и объект разделяемой памяти.

d. На экран выводятся этапы покупок: когда покупатель подошел на кассу, когда для него освободился кассир, когда началось обслуживание и когда посетитель покинул магазин.

e. Кол-во посетителей вводится с командной строки.

Пример выполнения программы: 

![ФАйл](https://user-images.githubusercontent.com/97798186/233171877-0d504f05-e0d3-4b8d-a183-2f61ab6b2a23.jpg)

## Реализация программы на 5

a. Вместо семафор стандарта UNIX SYSTEM V были использованы именованные POSIX семафоры.

![ФАйл](https://user-images.githubusercontent.com/97798186/233320600-c363f251-44aa-4e91-a6fd-b2936db7eca6.jpg)
